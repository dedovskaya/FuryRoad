/*!
 * @pixi/filter-color-replace - v4.1.5
 * Compiled Wed, 29 Sep 2021 14:05:57 UTC
 *
 * @pixi/filter-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var __filters=function(o,r,e){"use strict";var n=function(o,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(o[e]=r[e])})(o,r)};Object.create;Object.create;var t=function(o){function r(r,e,n){void 0===r&&(r=16711680),void 0===e&&(e=0),void 0===n&&(n=.4);var t=o.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec3 originalColor;\nuniform vec3 newColor;\nuniform float epsilon;\nvoid main(void) {\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\n    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));\n    float colorDistance = length(colorDiff);\n    float doReplace = step(colorDistance, epsilon);\n    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);\n}\n")||this;return t._originalColor=16711680,t._newColor=0,t.uniforms.originalColor=new Float32Array(3),t.uniforms.newColor=new Float32Array(3),t.originalColor=r,t.newColor=e,t.epsilon=n,t}return function(o,r){function e(){this.constructor=o}n(o,r),o.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}(r,o),Object.defineProperty(r.prototype,"originalColor",{get:function(){return this._originalColor},set:function(o){var r=this.uniforms.originalColor;"number"==typeof o?(e.hex2rgb(o,r),this._originalColor=o):(r[0]=o[0],r[1]=o[1],r[2]=o[2],this._originalColor=e.rgb2hex(r))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"newColor",{get:function(){return this._newColor},set:function(o){var r=this.uniforms.newColor;"number"==typeof o?(e.hex2rgb(o,r),this._newColor=o):(r[0]=o[0],r[1]=o[1],r[2]=o[2],this._newColor=e.rgb2hex(r))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(o){this.uniforms.epsilon=o},enumerable:!1,configurable:!0}),r}(r.Filter);return o.ColorReplaceFilter=t,Object.defineProperty(o,"__esModule",{value:!0}),o}({},PIXI,PIXI.utils);Object.assign(PIXI.filters,__filters);
//# sourceMappingURL=filter-color-replace.js.map
